计算机存储器空间的大小固定，无法容纳服务器上所有的文件，所以当有新的文件要被置换入缓存时，必须根据一定的原则来取代掉适当的文件。此原则即所谓缓存文件置换机制。

缓存文件置换方法有：

* 先进先出算法（FIFO）：最先进入的内容作为替换对象
* 最近最少使用算法（LFU）：最近最少使用的内容作为替换对象
* 最久未使用算法（LRU）：最久没有访问的内容作为替换对象
* 非最近使用算法（NMRU）：在最近没有使用的内容中随机选择一个作为替换对象

<br/>

![](https://img-blog.csdnimg.cn/20200303120152263.jpg)

<br/>

由于双向链表可以方便的进行节点的删除和插入，所以采用双向链表来实现LFU算法

为每一个访问对方添加一个计数器，通过定时或者定量来出发清除事件。计数器使用次数少的优先淘汰。

注意LFU和LRU算法的不同之处，LRU的淘汰规则是基于访问时间，而LFU是基于访问次数的。

这种算法存在明显的问题:  
a. 如果频率时间度量是1小时，则平均一天每个小时内的访问频率1000的热点数据可能会被2个小时的一段时间内的访问频率是1001的数据剔除掉；<br/>
b. 最近新加入的数据总会易于被剔除掉，由于其起始的频率值低。本质上其“重要性”指标访问频率是指在多长的时间维度进行衡量？其难以标定，所以在业界很少单一直接使用。

<br/>

### 参考
[https://studygolang.com/articles/23183?fr=sidebar](https://studygolang.com/articles/23183?fr=sidebar)